<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Dashboard | Assignment Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body class="gradient-bg">

    <!-- Top Navbar -->
    <div class="top-bar">
        <h2>Assignment Tracker</h2>
        <div class="top-links">
            <span>Hi, {{ session.name }}</span>
            <a href="/logout" class="logout-btn">Logout</a>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">

        <div class="action-cards">
            <a href="/subject" class="action-card">
                <h3><i class="bi bi-plus-circle"></i> Add Subject</h3>
                <p>Create and manage subjects</p>
            </a>

            <a href="/assignment" class="action-card">
                <h3><i class="bi bi-file-earmark-text"></i> Add Assignment</h3>
                <p>Track new assignments</p>
            </a>
        </div>

        <!-- Assignments Section -->
        <div class="glass-card wide-card">
            <h3>Your Assignments</h3>

            {% if assignments %}
            <div class="assignment-list">
                {% for a in assignments %}
                <div class="assignment-item">
                    <div>
                        <h4>{{ a.title }}</h4>
                        <p class="subject">{{ a.subject_name }}</p>
                        <p class="date">Due: {{ a.due_date }}</p>
                    </div>

                    <div class="status-area">
                        {% if a.status == 'Pending' %}
                        <span class="status pending">Pending</span>
                        <a href="/complete/{{ a.assignment_id }}" class="complete-btn">
                            Mark Done
                        </a>
                        {% else %}
                        <span class="status completed">Completed <i class="bi bi-check-circle-fill"></i></span>
                        {% endif %}
                        <a href="/delete/{{ a.assignment_id }}" class="delete-btn"
                            onclick="return confirm('Are you sure you want to delete this assignment?');">
                            Delete
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="empty-text">No assignments added yet!!</p>
            {% endif %}
        </div>

    </div>
    <footer class="bg-light text-center py-3">
        <div class="container">
            <p>&copy; 2026 Assignment Tracker. All rights reserved.</p>
        </div>
    </footer>
</body>

</html>